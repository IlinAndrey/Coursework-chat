<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/styleLogin.css">
    <script src="https://use.fontawesome.com/8aab69e184.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <div class="wrapmain">
        <form class="card" onsubmit="return validate()">
            <p id="error"></p>
            <p id="noterror"></p>
            <h1>Welcome!</h1>
            <div class="formregistration">
                <label for="email">Email</label><br>
                <input class="input_e" type="text" name="email" placeholder="Email" id="email">
                <i class="fa fa-times u_times" aria-hidden="true"></i>
                <i class="fa fa-check u_check" aria-hidden="true"></i>
            </div>
            <div class="formregistration">
                <label for="password">Password</label><br>
                <input class="input_e" type="password" name="password" placeholder="Password" id="pass">
                <i class="fa fa-times p_times" aria-hidden="true"></i>
                <i class="fa fa-check p_check" aria-hidden="true"></i>
            </div>
            <div class="formregistration">
                <a src="chat_page.html"><input type="submit" name="login-btn" id="Login"></a>
            </div>
            <!-- <a href="chat_page.html"><button type="submit" name="login-btn" id="Login">Login</button></a> -->
            <span>If you don't get a account <a href="register.html" class="register">Register</a></span>
        </form>
    </div>
    <script>
        var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        var email = document.querySelector('#email');
        email.addEventListener('keyup', function(){
            var u_times = document.querySelector('.u_times');
            var u_check = document.querySelector('.u_check');
            if (filter.test(email.value)) {
                email.style.borderBottom = '2px solid #169616';
                u_times.style.display = 'none';
                u_check.style.display = 'block';
                email.classList.add("checked");
            }else{
                email.style.borderBottom = '2px solid #b11616';
                u_times.style.display = 'block';
                u_check.style.display = 'none';
                return false;
            }
        })
        var pass = document.querySelector('#pass');
        pass.addEventListener('keyup', function(){
            var p_times = document.querySelector('.p_times');
            var p_check = document.querySelector('.p_check');
            if (pass.value.length == 0 || pass.value.length < 6) {
                pass.style.borderBottom = '2px solid #b11616';
                p_times.style.display = 'block';
                p_check.style.display = 'none';
                return false;
            }else{
                pass.style.borderBottom = '2px solid #169616';
                p_times.style.display = 'none';
                p_check.style.display = 'block';
                pass.classList.add("checked");
            }
        })
        function validate(){
            if(email.classList.contains("checked") && pass.classList.contains("checked")){
                // document.getElementById('noterror').innerHTML = 'Succesfully loged in!';
                // return true;
                alert('Succesfully loged in!');
                window.location.src = 'chat_page.html';
            }else{
                document.getElementById('error').innerHTML = 'Please fill the required fields!';
                return false;
            }
        };
    </script>
</body>
</html>